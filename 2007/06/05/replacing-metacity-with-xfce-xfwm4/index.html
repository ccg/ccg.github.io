<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.96.0"><title>Replacing Metacity with XFCE xfwm4 - Chad Glendenin</title><meta property="og:title" content="Replacing Metacity with XFCE xfwm4 - Chad Glendenin"><link href=//cdn.bootcss.com/highlight.js/9.11.0/styles/github.min.css rel=stylesheet type=text/css><link rel=stylesheet href=/css/fonts.css media=all><link rel=stylesheet href=/css/main.css media=all></head><body><div class=wrapper><header class=header><nav class=nav><a href=/ class=nav-logo><img src=/images/ccg.png width=50 height=50 alt=Logo></a><ul class=nav-links><li><a href=/about/>About</a></li><li><a href=https://github.com/ccg>GitHub</a></li><li><a href=https://twitter.com/ccglen>Twitter</a></li></ul></nav></header><main class=content role=main><article class=article><span class=article-duration>2 min read</span><h1 class=article-title>Replacing Metacity with XFCE xfwm4</h1><span class=article-date>2007-06-05</span><div class=article-content><h1 id=replacing-metacity-with-xfces-xfwm4>Replacing Metacity with XFCE&rsquo;s xfwm4</h1><p>I found the following Ubuntu-specific pages with information about replacing Metacity with XFCE&rsquo;s xfwm4:</p><ul><li><a href=http://doc.gwos.org/index.php/Xfwm4>http://doc.gwos.org/index.php/Xfwm4</a></li><li><a href="http://ubuntuforums.org/showthread.php?t=88393">http://ubuntuforums.org/showthread.php?t=88393</a></li></ul><p>Note that the Ubuntu instructions don&rsquo;t quite work for Debian because of Debian&rsquo;s customized /usr/bin/gnome-wm. On Fedora Core 6, GNOME doesn&rsquo;t seem to acknowledge the $WINDOW_MANAGER env var, so it&rsquo;s necessary to use gconf:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>gconftool-2 --type string --set /apps/gnome-session/rh/window_manager /usr/bin/xfwm4
</span></span></code></pre></div><hr><p>Why xfwm4 rules:</p><ul><li>Window placement can be configured to be non-annoying.</li><li>Annoying window-snapping can be disabled.</li><li>The compositor provides nice window shadows and transparency on non-focused windows, providing more visual clues about which window is focused. (And it looks nice.)</li><li>Java Swing apps display correctly under xfwm with the compositor enabled. Under compiz, Swing apps don&rsquo;t render correctly; they show up as nothing more than grey rectangles.</li><li>You can close a window by double-clicking its upper-left-corner window-menu icon. Metacity does not support this standard-since-the-1980&rsquo;s behavior.</li></ul><p>Downsides to using xfwm4 under GNOME:</p><ul><li>It does not use Metacity themes out of the box. (It has its own themes.) Fortunately, most of the XFWM themes pick up the GTK color scheme.</li><li>Sticky windows are not displayed in all workspaces in the GNOME toolbar pager widget, unlike the XFCE pager widget.</li><li><del>With the compositor effects enabled, beep-media-player tends to cause X.org to consume all available CPU cycles.</del> Curiously, so far, I&rsquo;ve only observed this under XFCE, not under GNOME.</li><li>I had to modify a system file (/usr/bin/gnome-wm) to get xfwm to work properly with GNOME session-management stuff. I prefer not to modify files that are maintained by my distro provider. A more concrete problem is that I won&rsquo;t be able to switch to xfwm4 on systems on which I don&rsquo;t have root access.</li><li>I cannot find a force-quit feature like Metacity has. Rhythmbox locks up every few minutes when I try to listen to Ogg-format internet music streams. With Metacity, I can click the window&rsquo;s Close button; Metacity will detect that there&rsquo;s no response after some timeout; and it will offer to force-quit the app. With xfwm4, I have to find a command-line to do &lsquo;killall rhythmbox&rsquo;. (It&rsquo;s not just Rhythmbox, but that&rsquo;s usually the first and most frequent one.)</li><li>xfwm4&rsquo;s focus-stealing prevention doesn&rsquo;t work, at least not with the versions of things on the Fedora Core 6 box I&rsquo;m using right now.</li></ul></div></article></main><footer class=footer><ul class=footer-links><li><a href=/index.xml type=application/rss+xml target=_blank>RSS feed</a></li><li><a href=https://gohugo.io/ class=footer-links-kudos>Made with <img src=/images/hugo-logo.png alt="Img link to Hugo website" width=22 height=22></a></li></ul></footer></div><script src=//cdn.bootcss.com/highlight.js/9.11.0/highlight.min.js></script>
<script src=//cdn.bootcss.com/highlight.js/9.11.0/languages/r.min.js></script>
<script src=//cdn.bootcss.com/highlight.js/9.11.0/languages/yaml.min.js></script>
<script>hljs.configure({languages:[]}),hljs.initHighlightingOnLoad()</script><script src=/js/math-code.js></script>
<script async src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,o,i,a,t,n,s){e.GoogleAnalyticsObject=t,e[t]=e[t]||function(){(e[t].q=e[t].q||[]).push(arguments)},e[t].l=1*new Date,n=o.createElement(i),s=o.getElementsByTagName(i)[0],n.async=1,n.src=a,s.parentNode.insertBefore(n,s)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-35516212-1","auto"),ga("send","pageview"))</script></body></html>